{"version":3,"file":"index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,UACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,SAAUJ,GACQ,iBAAZC,QACdA,QAAQ,uBAAyBD,EAAQG,QAAQ,UAEjDJ,EAAK,uBAAyBC,EAAQD,EAAY,OARpD,CASGO,MAAM,S,mBCTT,E,2BCUKC,E,oOAVL,G,uEAAA,QACA,SAEA,SAySMC,IAlSDD,EAAAA,EAAAA,GAAW,IACdE,KAAA,OACA,EAAAC,OAAA,SACA,EAAAC,MAAA,QACA,EAAAC,OAAA,SAwBW,EAAAC,aAA6C,SAAC,GAkFnC,SAAhBC,EACJC,EACAC,EACAC,EACAC,EACAC,QAAAA,IAAAA,IAAAA,GAAAA,GAmFA,I,IAjFQC,GAAK,GANbL,OAAAA,IAAAA,EAA2BM,EAAeC,QAMhBP,KAAgBR,EAAYG,OAASa,IAAkBC,GAApE,MAAEC,EAAM,SAEfC,EACJC,SAASC,gBAAgBF,YACzBC,SAASE,iBAAiBH,YAC1BI,OAAOC,SACPD,OAAOE,YAEHC,EACJN,SAASC,gBAAgBK,WACzBN,SAASE,iBAAiBI,WAC1BH,OAAOI,SACPJ,OAAOK,YAIHC,GAAWnB,GAFXoB,EAAgBC,EAAYhB,QAAQiB,UAAUjB,QAAQkB,yBAErBC,KAAOf,GAAcN,EACtDsB,GAAWxB,EAAQmB,EAAcM,IAAMV,GAAaR,EAKpDmB,GAJAC,EAAmB5B,EAAQoB,EAAcI,KAAOf,EAAaN,EAAQ,EAGrE0B,GAAuBJ,GAFvBK,EAAmB7B,EAAQmB,EAAcM,IAAMV,EAAYR,EAAS,KAEdA,EAAS,GAAM,GAC9CoB,EAAmBT,IAAYhB,EAAQ,GAAM,GACpE4B,EAAmD,KAA9BZ,EAAUS,GAC/BI,EAAmD,KAA9BP,EAAUK,GAyDL,GAxD1BG,EAA+D,IAAjDC,KAAKC,MAAML,EAAkBF,GAA2BM,KAAKE,GAAK,IAE1C,MACzC9C,EAAYE,MAAO6C,EACpB,EAAC/C,EAAYG,QAAS,CACpBX,KAAM,CACJ0B,OAAQ,UAAGA,EAAM,MACjB8B,UAAW,sBAAuB,EAARnC,EAAS,SAGvC,EAACb,EAAYI,OAAQ,CACnB4B,UAAW,CACTgB,UAAW,sBAAY,EAAAC,OAAMV,GAAqB,EAAG,GAAE,mDAChC,EAAAU,OAAMZ,GAAqB,EAAG,GAAE,kDACT,GAApBI,EAAqB,iDACD,GAApBC,EAAqB,0CAGjDQ,MAAO,SAACC,GAAkB,OACxBH,UAAW,qBAAgD,OAAlC,EAAAC,OAAMR,GAAoB,EAAG,GAAWU,EAAK,iDACX,OAAlC,EAAAF,OAAMP,GAAoB,EAAG,GAAWS,EAAK,4CAGxEC,MAAO,CACLC,gBAAiB,0BAAmBV,EAAU,gBAAQW,EAAU,0BAElEC,OAAQ,CACNC,UAAW,uBAAgBC,EAAW,yBAAiBA,KAG3D,EAACzD,EAAYK,QAAS,CACpB2B,UAAW,CACT0B,mBAAoB,SACpBV,UAAW,kBAAWT,EAAqB,IAAG,+CACxBF,EAAqB,IAAG,yCAGhDa,MAAO,SAACC,GAAkB,OACxBH,UAAW,sBAAeP,EAAoBU,EAAK,kDACzBT,EAAoBS,EAAK,4CAGrDC,MAAO,CACLC,gBAAiB,0BAAmBV,EAAU,gBAAQW,EAAU,0BAElEC,OAAQ,EAAF,KACDR,EAAcQ,QAAM,CACvBG,mBAAoB,YA7CpBC,E,EAgDJnD,GAEEI,GACFH,EAAMG,iBAGwB,KAAAgD,OAAOC,QAAQF,GAAf,eAAgC,CAArD,Y,SAACG,EAAS,GACH,UAAZA,EACFC,EAAOC,SAAQ,SAACC,EAAGd,GACjB,WAAAe,aAAYnC,EAAYhB,QAAQgD,OAAOZ,GAAOpC,SAAQ,EAAC,EAAAoD,YAAW,GAAU,EAAOhB,GAAS,SAG9F,EAAAe,aAAYnC,EAAYhB,QAAQ+C,GAAS/C,QAAS,G,CANnC,KAAQ,MAUvBP,IAAgBR,EAAYG,QAC9BiE,EAAQ,CAAEvD,MAAK,EAAEK,OAAM,IAGzBJ,EAAeC,QAAUP,EAKzB,SADI6D,EACH7D,GACC,gBAACC,GACC,OAAAF,EAAcC,EAAaC,EAAOA,EAAMC,MAAOD,EAAME,OAAM,IAI/D,SADI2D,EACH9D,GACC,gBAACC,GACC,OAAAF,EAAcC,EAAaC,EAAOA,EAAM8D,QAAQ,GAAG7D,MAAOD,EAAM8D,QAAQ,GAAG5D,QAEpD,SAAvB6D,IAA6B,OAAAjE,EAAcP,EAAYE,M,IAxLvD,EAdN6D,EAAM,SACNU,OAAAA,KAAAC,EAAA,EAAAD,aAAc,IAAO,EACrBE,OAAAA,KAAA,IAAAA,cAAe,GAAE,EACjBjB,OAAAA,KAAA,IAAAA,oBAAqB,IAAI,EACzBkB,OAAAA,KAAA,IAAAA,0BAA2B,WAAU,EACrCtB,OAAAA,KAAA,IAAAA,YAAa,OAAM,EACnBuB,OAAAA,KAAA,IAAAA,cAAe,GAAG,EAClBpB,OAAAA,KAAA,IAAAA,aAAc,OAAM,EACpBqB,OAAAA,KAAA,IAAAA,eAAgB,GAAG,EACnBC,EAAS,YAGHjE,GAFNkE,EAAK,SAEClE,EAAiB,EAAAmE,QAAoBjF,EAAYE,OAChDe,GAAD,KAAkB,EAAAiE,UAAe,CAAErE,MAAO,EAAGK,OAAQ,KAAhD,GAAEkD,EAAO,KACbe,GAAD,KAAsB,EAAAD,UAAiB,IAAhC,GAAEE,EAAS,KACfC,GAAAA,EAAY,EAAAH,UAAiB,GAArB,GAEXnD,GAAAA,EAAc,EAAAkD,QAAO,CACzBzF,MAAK,EAAC,EAAA8F,aACNtD,WAAU,EAAC,EAAAsD,aACXvB,OAAQA,EAAOwB,KAAI,WAAM,WAAAD,gBACzB/B,QAAO,EAAC,EAAA+B,aACRlC,OAAM,EAAC,EAAAkC,eAGHvC,GAAAA,EAAgB,EAAAyC,UACpB,WAAM,OAAAvF,EAAiByD,EAAoBJ,EAAYG,KACvD,CAACC,EAAoBJ,EAAYG,IAE7BgC,GAAAA,EAAS,EAAAD,UACb,WAAM,OACJhG,KAAM,EAAF,GACFmF,aAAY,GACT5B,EAAcvD,MACdkG,EAAalG,MAElBwC,UAAW,EAAF,GACP2C,aAAY,EACZC,yBAAwB,GACrB7B,EAAcf,WACd0D,EAAa1D,WAElB2D,MAAO,EAAF,GACHhB,aAAY,GACT5B,EAAc4C,OACdD,EAAaC,OAElBzC,MAAO,EAAF,GACH0B,yBAAwB,GACrB7B,EAAcG,OACdwC,EAAaxC,OAElBE,MAAO,EAAF,GACHuB,aAAY,EACZiB,QAASf,GACN9B,EAAcK,OACdsC,EAAatC,OAElBG,OAAQ,EAAF,GACJoB,aAAY,EACZiB,QAASd,EACTF,yBAAwB,GACrB7B,EAAcQ,QACdmC,EAAanC,WAGpB,CAACR,EAAe4B,EAAcC,EAA0BC,EAAcC,IAGlE9D,EAAgB,WACpB,IAEMH,EAMN,MAAO,CAAEA,MANHA,GAFAgF,EAAe9D,EAAYhB,QAAQiB,WAG1BjB,QAAQ+E,aACrBD,EAAa9E,QAAQgF,aACrBF,EAAa9E,QAAQiF,YAGP9E,OAFD0B,KAAKqD,MAAMpF,EAAQ4D,KAkJpC,OAAM,EAtBN,EAAAyB,YAAU,WACmB,SAArBC,IAA2B,OAAA5F,EAAcP,EAAYG,QAY3D,OAVA4D,EAAOC,SAAQ,SAACd,GACd,IAAMkD,EAAQ,IAAIC,MAElBD,EAAME,IAAMpD,EACZkD,EAAMG,OAAS,WAAM,OAAAnB,GAAU,SAACD,GAAW,OAAAA,EAAS,MACpDiB,EAAMI,QAAU,WAAM,OAAAnB,GAAS,SAACoB,GAAU,OAAAA,EAAQ,SAGpDlF,OAAOmF,iBAAiB,SAAUP,GAE3B,WACL5E,OAAOoF,oBAAoB,SAAUR,MAEtC,OAEH,EAAAD,YAAU,WACR3F,EAAcP,EAAYG,UACzB,CAAC4B,EAAYhB,QAAS0D,IAGvB,uBACEmC,aAAcvC,EAAuBrE,EAAYI,OACjDyG,YAAaxC,IACbyC,YAAazC,EAAuBrE,EAAYK,QAChD0G,UAAW1C,EAAuBrE,EAAYI,OAC9C4G,aAAcxC,EACdyC,aAAc3C,EAAuBtE,EAAYI,OACjD8G,YAAa5C,EAAuBtE,EAAYI,OAChD+G,WAAY3C,EACZO,UAAWA,EACXC,MAAK,OAAOS,EAAOjG,MAASwF,GAC5BoC,IAAKrF,EAAYhB,QAAQvB,MAEzB,uBAAKwF,MAAOS,EAAOzD,UAAWoF,IAAKrF,EAAYhB,QAAQiB,WACrD,uBAAKgD,MAAOS,EAAOlC,OAAQ6D,IAAKrF,EAAYhB,QAAQwC,SACpD,uBAAKyB,MAAOS,EAAOE,OAChB5B,EAAOwB,KAAI,SAACe,EAAKnD,GAAU,OAC1B,uBACE6B,MAAK,OACAS,EAAOvC,OAAK,CACfG,gBAAiB,cAAOiD,EAAG,KAC3BV,QAAST,IAAWpB,EAAOsD,OAAS,EAAI,IAE1CD,IAAKrF,EAAYhB,QAAQgD,OAAOZ,GAChCmE,IAAKnE,QAIX,uBAAK6B,MAAOS,EAAOrC,MAAOgE,IAAKrF,EAAYhB,QAAQqC,WAK3D,EAAA9C,aAAA,YAA2B,eAKF,SACvBoD,EACAJ,EACAG,GACwB,OACxBzB,UAAW,CACTgB,UAAW,OACXU,mBAAoB,UAAGA,EAAkB,MAE3CR,MAAO,CACLF,UAAW,OACXU,mBAAoB,UAAGA,EAAkB,aAE3CN,MAAO,CACLC,gBAAiB,kCAA2BC,EAAU,0BAExDC,OAAQ,CACNC,UAAW,sBAAeC,EAAW,wBAAgBA,GACrDC,mBAAoB,UAAGA,EAAkB,SAOvCgC,EAAoC,CACxClG,KAAM,CACJ+H,SAAU,WACV1G,MAAO,OACP2G,eAAgB,cAChBC,OAAQ,UACRC,wBAAyB,oBAE3B1F,UAAW,CACTuF,SAAU,WACV1G,MAAO,OACPK,OAAQ,OACRyG,mBAAoB,YACpBH,eAAgB,eAElB7B,MAAO,CACL4B,SAAU,WACV1G,MAAO,OACPK,OAAQ,OACR0G,WAAY,QACZJ,eAAgB,cAChBK,SAAU,UAEZ3E,MAAO,CACLqE,SAAU,WACV1G,MAAO,OACPK,OAAQ,OACR4G,iBAAkB,YAClBC,mBAAoB,SACpBC,gBAAiB,cACjBC,eAAgB,QAChBN,mBAAoB,qBACpB/B,QAAS,GAEXxC,MAAO,CACLmE,SAAU,WACV1G,MAAO,OACPK,OAAQ,QAEVqC,OAAQ,CACNgE,SAAU,WACV1G,MAAO,OACPK,OAAQ,OACRyG,mBAAoB,wBACpB3E,UAAW,mC,uGC9WF,EAAAkB,YAAc,SAACJ,EAAyB2B,GACnD,IAA6B,UAAA7B,OAAOC,QAAQ4B,GAAf,eAAwB,CAA1C,IAACT,GAAD,QAAM,GAAEkD,EAAK,KACtBpE,EAAQkB,MAAMA,GAASkD,IAOd,EAAAjF,MAAQ,SAACiF,EAAeC,EAAaC,GAGhD,OAFMC,EAAUD,EAAMD,EAAMA,EAAMC,EAElB,MAATF,EAAgBtF,KAAKuF,IAAIvF,KAAKwF,IAAIF,EAAOC,GAAME,GAAWH,GAOtD,EAAA/D,WAAa,SAAC+D,GAAsC,MAAiB,mBAAVA,I,QCtBxEvI,EAAOD,QAAU4I,ICCbC,EAA2B,G,uFJD/B,EIIA,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,gBAAIC,IAIA/I,EAAS4I,EAAyBE,GAAY,CAGjD/I,QAAS,IAIViJ,EAAoBF,GAAUG,KAAKjJ,EAAOD,QAASC,EAAQA,EAAOD,QAAS8I,IAVnEE,EAAahJ,QJRtB,MAE6B,4EAFA,EAAAY,gB,GDSpB","sources":["webpack://react-layered-image/webpack/universalModuleDefinition","webpack://react-layered-image/./lib/index.ts","webpack://react-layered-image/./lib/LayeredImage.tsx","webpack://react-layered-image/./lib/utils.ts","webpack://react-layered-image/external umd \"react\"","webpack://react-layered-image/webpack/bootstrap"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-layered-image\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-layered-image\"] = factory(root[\"react\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__156__) => {\nreturn ","import { ILayeredImageProps, LayeredImage } from \"./LayeredImage\"\n\nexport { ILayeredImageProps, LayeredImage }\n","import * as React from \"react\"\nimport { createRef, useEffect, useMemo, useRef, useState } from \"react\"\n\nimport { applyStyles, clamp, isFunction } from \"./utils\"\n\ninterface Size {\n  width: number\n  height: number\n}\n\nenum Interaction {\n  None = \"NONE\",\n  Resize = \"RESIZE\",\n  Hover = \"HOVER\",\n  Active = \"ACTIVE\",\n}\n\ninterface ILayeredImageStyles {\n  root?: React.CSSProperties\n  container?: React.CSSProperties\n  stack?: React.CSSProperties\n  layer?: React.CSSProperties | ((index: number) => React.CSSProperties)\n  light?: React.CSSProperties\n  shadow?: React.CSSProperties\n}\n\nexport interface ILayeredImageProps extends React.HTMLProps<HTMLDivElement> {\n  layers: Array<string>\n  aspectRatio?: number\n  borderRadius?: React.CSSProperties[\"borderRadius\"]\n  transitionDuration?: number\n  transitionTimingFunction?: React.CSSProperties[\"transitionTimingFunction\"]\n  lightColor?: React.CSSProperties[\"color\"]\n  lightOpacity?: React.CSSProperties[\"opacity\"]\n  shadowColor?: React.CSSProperties[\"color\"]\n  shadowOpacity?: React.CSSProperties[\"opacity\"]\n}\n\nexport const LayeredImage: React.FC<ILayeredImageProps> = ({\n  layers,\n  aspectRatio = 16 / 10,\n  borderRadius = 12,\n  transitionDuration = 0.15,\n  transitionTimingFunction = \"ease-out\",\n  lightColor = \"#fff\",\n  lightOpacity = 0.2,\n  shadowColor = \"#000\",\n  shadowOpacity = 0.6,\n  className,\n  style,\n}) => {\n  const interactionRef = useRef<Interaction>(Interaction.None)\n  const [size, setSize] = useState<Size>({ width: 0, height: 0 })\n  const [loaded, setLoaded] = useState<number>(0)\n  const [, setError] = useState<number>(0)\n\n  const elementsRef = useRef({\n    root: createRef<HTMLDivElement>(),\n    container: createRef<HTMLDivElement>(),\n    layers: layers.map(() => createRef<HTMLDivElement>()),\n    shadow: createRef<HTMLDivElement>(),\n    light: createRef<HTMLDivElement>(),\n  })\n\n  const defaultStyles = useMemo<ILayeredImageStyles>(\n    () => getDefaultStyles(transitionDuration, lightColor, shadowColor),\n    [transitionDuration, lightColor, shadowColor],\n  )\n  const styles = useMemo<ILayeredImageStyles>(\n    () => ({\n      root: {\n        borderRadius,\n        ...defaultStyles.root,\n        ...staticStyles.root,\n      },\n      container: {\n        borderRadius,\n        transitionTimingFunction,\n        ...defaultStyles.container,\n        ...staticStyles.container,\n      },\n      stack: {\n        borderRadius,\n        ...defaultStyles.stack,\n        ...staticStyles.stack,\n      },\n      layer: {\n        transitionTimingFunction,\n        ...defaultStyles.layer,\n        ...staticStyles.layer,\n      },\n      light: {\n        borderRadius,\n        opacity: lightOpacity,\n        ...defaultStyles.light,\n        ...staticStyles.light,\n      },\n      shadow: {\n        borderRadius,\n        opacity: shadowOpacity,\n        transitionTimingFunction,\n        ...defaultStyles.shadow,\n        ...staticStyles.shadow,\n      },\n    }),\n    [defaultStyles, borderRadius, transitionTimingFunction, lightOpacity, shadowOpacity],\n  )\n\n  const getDimensions = () => {\n    const containerRef = elementsRef.current.container\n    // prettier-ignore\n    const width =\n      containerRef.current.offsetWidth ||\n      containerRef.current.clientWidth ||\n      containerRef.current.scrollWidth;\n    const height = Math.round(width / aspectRatio)\n\n    return { width, height }\n  }\n\n  const computeStyles = (\n    interaction: Interaction = interactionRef.current,\n    event?: React.SyntheticEvent<HTMLDivElement>,\n    pageX?: number,\n    pageY?: number,\n    preventDefault = false,\n  ) => {\n    const { width, height } = interaction === Interaction.Resize ? getDimensions() : size\n\n    const scrollLeft =\n      document.documentElement.scrollLeft ||\n      document.scrollingElement.scrollLeft ||\n      window.scrollX ||\n      window.pageXOffset\n    // prettier-ignore\n    const scrollTop =\n      document.documentElement.scrollTop ||\n      document.scrollingElement.scrollTop ||\n      window.scrollY ||\n      window.pageYOffset\n\n    const containerRect = elementsRef.current.container.current.getBoundingClientRect()\n\n    const offsetX = (pageX - containerRect.left - scrollLeft) / width\n    const offsetY = (pageY - containerRect.top - scrollTop) / height\n    const containerCenterX = pageX - containerRect.left - scrollLeft - width / 2\n    const containerCenterY = pageY - containerRect.top - scrollTop - height / 2\n\n    const containerRotationX = ((offsetY - containerCenterY) / (height / 2)) * 8\n    const containerRotationY = ((containerCenterX - offsetX) / (width / 2)) * 8\n    const layerTranslationX = (offsetX - containerCenterX) * 0.01\n    const layerTranslationY = (offsetY - containerCenterY) * 0.01\n    const lightAngle = (Math.atan2(containerCenterY, containerCenterX) * 180) / Math.PI - 90\n\n    const computedStyles: ILayeredImageStyles = {\n      [Interaction.None]: defaultStyles,\n      [Interaction.Resize]: {\n        root: {\n          height: `${height}px`,\n          transform: `perspective(${width * 3}px)`,\n        },\n      },\n      [Interaction.Hover]: {\n        container: {\n          transform: `rotateX(${-clamp(containerRotationX, -8, 8)}deg)\n                      rotateY(${-clamp(containerRotationY, -8, 8)}deg)\n                      translateX(${-layerTranslationX * 5}px)\n                      translateY(${-layerTranslationY * 5}px)\n                      scale(1.1)`,\n        },\n        layer: (index: number) => ({\n          transform: `translateX(${clamp(layerTranslationX, -2, 2) * 1.4 * index}px)\n                      translateY(${clamp(layerTranslationY, -2, 2) * 1.4 * index}px)\n                      scale(1.04)`,\n        }),\n        light: {\n          backgroundImage: `linear-gradient(${lightAngle}deg, ${lightColor} 0%, transparent 80%)`,\n        },\n        shadow: {\n          boxShadow: `0 40px 100px ${shadowColor}, 0 10px 20px ${shadowColor}`,\n        },\n      },\n      [Interaction.Active]: {\n        container: {\n          transitionDuration: \"0.075s\",\n          transform: `rotateX(${containerRotationX / 1.4}deg)\n                      rotateY(${containerRotationY / 1.4}deg)\n                      scale(1)`,\n        },\n        layer: (index: number) => ({\n          transform: `translateX(${-layerTranslationX * index}px)\n                      translateY(${-layerTranslationY * index}px)\n                      scale(1.02)`,\n        }),\n        light: {\n          backgroundImage: `linear-gradient(${lightAngle}deg, ${lightColor} 0%, transparent 80%)`,\n        },\n        shadow: {\n          ...defaultStyles.shadow,\n          transitionDuration: \"0.075s\",\n        },\n      },\n    }[interaction]\n\n    if (preventDefault) {\n      event.preventDefault()\n    }\n\n    for (const [element, styles] of Object.entries(computedStyles)) {\n      if (element === \"layer\") {\n        layers.forEach((_, index) =>\n          applyStyles(elementsRef.current.layers[index].current, isFunction(styles) ? styles(index) : styles),\n        )\n      } else {\n        applyStyles(elementsRef.current[element].current, styles)\n      }\n    }\n\n    if (interaction === Interaction.Resize) {\n      setSize({ width, height })\n    }\n\n    interactionRef.current = interaction\n  }\n\n  // prettier-ignore\n  const handleMouseInteraction =\n    (interaction?: Interaction) =>\n      (event: React.MouseEvent<HTMLDivElement>) =>\n        computeStyles(interaction, event, event.pageX, event.pageY, true);\n\n  // prettier-ignore\n  const handleTouchInteraction =\n    (interaction?: Interaction) =>\n      (event: React.TouchEvent<HTMLDivElement>) =>\n        computeStyles(interaction, event, event.touches[0].pageX, event.touches[0].pageY);\n\n  const handleInteractionEnd = () => computeStyles(Interaction.None)\n\n  useEffect(() => {\n    const handleWindowResize = () => computeStyles(Interaction.Resize)\n\n    layers.forEach((layer) => {\n      const image = new Image()\n\n      image.src = layer\n      image.onload = () => setLoaded((loaded) => loaded + 1)\n      image.onerror = () => setError((error) => error + 1)\n    })\n\n    window.addEventListener(\"resize\", handleWindowResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleWindowResize)\n    }\n  }, [])\n\n  useEffect(() => {\n    computeStyles(Interaction.Resize)\n  }, [elementsRef.current, aspectRatio])\n\n  return (\n    <div\n      onMouseEnter={handleMouseInteraction(Interaction.Hover)}\n      onMouseMove={handleMouseInteraction()}\n      onMouseDown={handleMouseInteraction(Interaction.Active)}\n      onMouseUp={handleMouseInteraction(Interaction.Hover)}\n      onMouseLeave={handleInteractionEnd}\n      onTouchStart={handleTouchInteraction(Interaction.Hover)}\n      onTouchMove={handleTouchInteraction(Interaction.Hover)}\n      onTouchEnd={handleInteractionEnd}\n      className={className}\n      style={{ ...styles.root, ...style }}\n      ref={elementsRef.current.root}\n    >\n      <div style={styles.container} ref={elementsRef.current.container}>\n        <div style={styles.shadow} ref={elementsRef.current.shadow} />\n        <div style={styles.stack}>\n          {layers.map((src, index) => (\n            <div\n              style={{\n                ...styles.layer,\n                backgroundImage: `url(${src})`,\n                opacity: loaded === layers.length ? 1 : 0,\n              }}\n              ref={elementsRef.current.layers[index]}\n              key={index}\n            />\n          ))}\n        </div>\n        <div style={styles.light} ref={elementsRef.current.light} />\n      </div>\n    </div>\n  )\n}\nLayeredImage.displayName = \"LayeredImage\"\n\n/*\n * Initial styles in resting state.\n */\nconst getDefaultStyles = (\n  transitionDuration: ILayeredImageProps[\"transitionDuration\"],\n  lightColor: ILayeredImageProps[\"lightColor\"],\n  shadowColor: ILayeredImageProps[\"shadowColor\"],\n): ILayeredImageStyles => ({\n  container: {\n    transform: \"none\",\n    transitionDuration: `${transitionDuration}s`,\n  },\n  layer: {\n    transform: \"none\",\n    transitionDuration: `${transitionDuration}s, 500ms`,\n  },\n  light: {\n    backgroundImage: `linear-gradient(180deg, ${lightColor} 0%, transparent 80%)`,\n  },\n  shadow: {\n    boxShadow: `0 10px 30px ${shadowColor}, 0 6px 10px ${shadowColor}`,\n    transitionDuration: `${transitionDuration}s`,\n  },\n})\n\n/*\n * Static styles that never change.\n */\nconst staticStyles: ILayeredImageStyles = {\n  root: {\n    position: \"relative\",\n    width: \"100%\",\n    transformStyle: \"preserve-3d\",\n    cursor: \"pointer\",\n    WebkitTapHighlightColor: \"rgba(0, 0, 0, 0)\",\n  },\n  container: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    transitionProperty: \"transform\",\n    transformStyle: \"preserve-3d\",\n  },\n  stack: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    background: \"black\",\n    transformStyle: \"preserve-3d\",\n    overflow: \"hidden\",\n  },\n  layer: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundColor: \"transparent\",\n    backgroundSize: \"cover\",\n    transitionProperty: \"transform, opacity\",\n    opacity: 0,\n  },\n  light: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n  },\n  shadow: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    transitionProperty: \"transform, box-shadow\",\n    transform: \"translateZ(-10px) scale(0.95)\",\n  },\n}\n","/**\n * Apply a set of styles to an HTML element.\n */\nexport const applyStyles = (element: HTMLDivElement, styles: React.CSSProperties) => {\n  for (const [style, value] of Object.entries(styles)) {\n    element.style[style] = value\n  }\n}\n\n/**\n * Clamp the `value` between `min` and `max` inclusively.\n */\nexport const clamp = (value: number, min: number, max: number) => {\n  const maximum = max < min ? min : max\n\n  return value != null ? Math.min(Math.max(value, min), maximum) : value\n}\n\n/**\n * Return `true` if the value is a `function`.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const isFunction = (value: unknown): value is Function => typeof value === \"function\"\n","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"],"names":["root","factory","exports","module","require","define","amd","this","Interaction","getDefaultStyles","None","Resize","Hover","Active","LayeredImage","computeStyles","interaction","event","pageX","pageY","preventDefault","width","interactionRef","current","getDimensions","size","height","scrollLeft","document","documentElement","scrollingElement","window","scrollX","pageXOffset","scrollTop","scrollY","pageYOffset","offsetX","containerRect","elementsRef","container","getBoundingClientRect","left","offsetY","top","containerRotationY","containerCenterX","containerRotationX","containerCenterY","layerTranslationX","layerTranslationY","lightAngle","Math","atan2","PI","defaultStyles","transform","clamp","layer","index","light","backgroundImage","lightColor","shadow","boxShadow","shadowColor","transitionDuration","computedStyles","Object","entries","element","layers","forEach","_","applyStyles","isFunction","setSize","handleMouseInteraction","handleTouchInteraction","touches","handleInteractionEnd","aspectRatio","a","borderRadius","transitionTimingFunction","lightOpacity","shadowOpacity","className","style","useRef","useState","loaded","setLoaded","setError","createRef","map","useMemo","styles","staticStyles","stack","opacity","containerRef","offsetWidth","clientWidth","scrollWidth","round","useEffect","handleWindowResize","image","Image","src","onload","onerror","error","addEventListener","removeEventListener","onMouseEnter","onMouseMove","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","ref","length","key","position","transformStyle","cursor","WebkitTapHighlightColor","transitionProperty","background","overflow","backgroundRepeat","backgroundPosition","backgroundColor","backgroundSize","value","min","max","maximum","__WEBPACK_EXTERNAL_MODULE__156__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}